{#
Map. New
@controller BackendMapController:newAction
@route admin/map/new
@path admin_map_new
@var FormView form
#}
{% do addCrumb('map.index.title'|trans({},'cavepages'), path('admin_map_index')) %}
{% set page= initPage(
    'map',
    'new',
    'map.new.title'|trans({},'cavepages'),
    path('admin_map_new'))
    .set('heading', 'map.new.heading'|trans({},'cavepages'))
%}
{% extends '@admin/base.html.twig' %}
{% block subheading %}
    {% include '@admin/map/subheading_buttons.html.twig'%}
{% endblock %}

{% block content %}
    {% include '@admin/map/_form.html.twig' %}
    {% if not form.vars.valid %}
        {% include '@object/modal/errors.html.twig'%}
    {% endif %}
{% endblock %}
{% block footer_javascripts %}
    <script>
        {% if not form.vars.valid %}
            bootstrap.Modal.getOrCreateInstance(document.querySelector('#modal-errors')).show();
        {% endif %}
        {#(new Repopulate('#{{ form.country.vars.id }}')).populate();#}
        document.querySelectorAll('.jsuggest-select').forEach(function (elm){
            JSuggest(elm);
        });

    </script>
{% endblock %}